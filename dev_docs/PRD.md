# PRD: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –ø–æ—Å—Ç–∏–Ω–≥–∞ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-11-30  
**–°—Ç–∞—Ç—É—Å:** Draft

---

## 1. –û–±–∑–æ—Ä

### 1.1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π REST API. –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å **–ù–ï** –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–π (scheduling), –∞ —Ç–æ–ª—å–∫–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

### 1.2. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Framework:** NestJS (v10+)
- **HTTP Server:** Fastify
- **Runtime:** Node.js 22+
- **Package Manager:** pnpm 10+
- **Language:** TypeScript

### 1.3. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–ø–æ—Å—Ç—ã, —Å—Ç–∞—Ç—å–∏, –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ –∏ —Ç.–¥.)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (HTML ‚Üí Markdown ‚Üí Plain Text)
- –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

## 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 2.1. REST API

#### –≠–Ω–¥–ø–æ–∏–Ω—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```
POST /{API_BASE_PATH}/v1/post
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞

```typescript
interface PostRequest {
  // ============================================
  // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–û–õ–Ø
  // ============================================
  
  /**
   * –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
   * @example "telegram", "x", "instagram", "youtube", "vk", "facebook", "tiktok", "mastodon"
   */
  sm: string;
  
  /**
   * –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å—Ç–∞/—Å—Ç–∞—Ç—å–∏
   * @required true
   */
  body: string;
  
  // ============================================
  // –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ü–û–õ–Ø - –û–°–ù–û–í–ù–´–ï
  // ============================================
  
  /**
   * –¢–∏–ø –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–µ—Å–ª–∏ —Å–æ—Ü. —Å–µ—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤)
   * @default "post"
   * @example "post" | "article" | "image" | "collection" | "video" | "short" | "audio" | "attachment"
   */
  type?: PostType;
  
  /**
   * –§–æ—Ä–º–∞—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –ø–æ–ª–µ body
   * @default "text"
   * @example "html" | "md" | "text"
   */
  bodyFormat?: BodyFormat;
  
  /**
   * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å body –≤ —Ñ–æ—Ä–º–∞—Ç, —Ç—Ä–µ–±—É–µ–º—ã–π —Å–æ—Ü. —Å–µ—Ç—å—é
   * @default true
   */
  convertBody?: boolean;
  
  /**
   * –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º, —Ç—Ä–µ–±—É—é—â–∏—Ö –æ—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫)
   * –ü—Ä–∏–º–µ—Ä—ã: Medium, Telegraph, YouTube –≤–∏–¥–µ–æ
   */
  title?: string;
  
  /**
   * –û–ø–∏—Å–∞–Ω–∏–µ/–∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (–¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º, –∫–æ—Ç–æ—Ä—ã–º —ç—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
   * –ü—Ä–∏–º–µ—Ä—ã: YouTube, Instagram (–ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏)
   */
  description?: string;
  
  // ============================================
  // –ú–ï–î–ò–ê-–ö–û–ù–¢–ï–ù–¢
  // ============================================
  
  /**
   * URL –≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–±–ª–æ–∂–∫–∞ –ø–æ—Å—Ç–∞/—Å—Ç–∞—Ç—å–∏/–≤–∏–¥–µ–æ)
   */
  cover?: string;
  
  /**
   * URL –≤–∏–¥–µ–æ—Ñ–∞–π–ª–∞ (–¥–ª—è –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥–æ–≤)
   * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –∫–æ—Ä–æ—Ç–∫–∏–µ (shorts/reels), —Ç–∞–∫ –∏ –¥–ª–∏–Ω–Ω—ã–µ –≤–∏–¥–µ–æ
   */
  video?: string;
  
  /**
   * –ú–∞—Å—Å–∏–≤ URL –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
   * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç–æ–≤ —Å –º–µ–¥–∏–∞-–∫–æ–ª–ª–µ–∫—Ü–∏–µ–π (–∫–∞—Ä—É—Å–µ–ª–∏)
   */
  media?: string[];

  // ============================================
  // –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –ò –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
  // ============================================
  
  /**
   * –ò–º—è –∫–∞–Ω–∞–ª–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   * @example "my_telegram_channel", "company_twitter"
   */
  channel?: string;
  
  /**
   * –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –∑–∞–ø—Ä–æ—Å–µ
   * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ
   * –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–æ—Ü. —Å–µ—Ç–∏
   */
  auth?: Record<string, any>;
  
  // ============================================
  // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´
  // ============================================
  
  /**
   * –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   * –ü—Ä–∏–º–µ—Ä—ã:
   * - Telegram: inline_keyboard, parse_mode, disable_notification
   * - Twitter/X: reply_to_tweet_id, poll options
   * - Instagram: location, tagged_users
   */
  additional?: Record<string, any>;
  
  /**
   * –¢–µ–≥–∏/—Ö—ç—à—Ç–µ–≥–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
   */
  tags?: string[];
  
  /**
   * –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (ISO 8601)
   * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏–º–µ–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π scheduled posting
   * –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º scheduling
   */
  scheduledAt?: string;
  
  /**
   * –Ø–∑—ã–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (ISO 639-1)
   * @example "ru", "en", "es"
   */
  language?: string;
  
  /**
   * –†–µ–∂–∏–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
   * @default "publish"
   */
  mode?: 'publish' | 'draft' | 'preview';
  
  /**
   * –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
   * –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
   */
  idempotencyKey?: string;
  
  /**
   * Webhook URL –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
   */
  webhookUrl?: string;
  
  /**
   * –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Å–æ—Ü. —Å–µ—Ç—å)
   */
  metadata?: Record<string, any>;
}

enum PostType {
  POST = 'post',              // –û–±—ã—á–Ω—ã–π –ø–æ—Å—Ç
  ARTICLE = 'article',        // –°—Ç–∞—Ç—å—è (Telegraph, Medium)
  IMAGE = 'image',            // –ü–æ—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
  COLLECTION = 'collection',  // –ú–µ–¥–∏–∞-–∫–∞—Ä—É—Å–µ–ª—å
  VIDEO = 'video',            // –í–∏–¥–µ–æ
  SHORT = 'short',            // –ö–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ (Shorts, Reels, TikTok)
  AUDIO = 'audio',            // –ê—É–¥–∏–æ-—Ñ–∞–π–ª
  ATTACHMENT = 'attachment',  // –ü–æ—Å—Ç —Å –≤–ª–æ–∂–µ–Ω–∏–µ–º (–¥–æ–∫—É–º–µ–Ω—Ç)
  STORY = 'story',            // –ò—Å—Ç–æ—Ä–∏—è (Instagram Stories)
  POLL = 'poll',              // –û–ø—Ä–æ—Å
}

enum BodyFormat {
  HTML = 'html',
  MARKDOWN = 'md',
  TEXT = 'text',
}
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞

**–£—Å–ø–µ—à–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è:**

```typescript
interface PostResponse {
  success: true;
  data: {
    /**
     * ID –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
     */
    postId: string;
    
    /**
     * URL –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
     */
    url?: string;
    
    /**
     * –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å
     */
    platform: string;
    
    /**
     * –¢–∏–ø –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
     */
    type: PostType;
    
    /**
     * –í—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (ISO 8601)
     */
    publishedAt: string;
    
    /**
     * –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
     */
    platformData?: Record<string, any>;
    
    /**
     * ID –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
     */
    requestId: string;
  };
}
```

**–û—à–∏–±–∫–∞:**

```typescript
interface ErrorResponse {
  success: false;
  error: {
    /**
     * –ö–æ–¥ –æ—à–∏–±–∫–∏
     */
    code: string;
    
    /**
     * –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
     */
    message: string;
    
    /**
     * –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏
     */
    details?: Record<string, any>;
    
    /**
     * –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
     */
    platformError?: {
      code: string | number;
      message: string;
      details?: any;
    };
    
    /**
     * ID –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
     */
    requestId: string;
  };
}
```

### 2.2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```
GET /{API_BASE_PATH}/v1/post/:platform/:postId
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ

```
GET /{API_BASE_PATH}/v1/providers
GET /{API_BASE_PATH}/v1/providers/:platform
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö, —Ç–∏–ø–∞—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö.

#### –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –±–µ–∑ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```
POST /{API_BASE_PATH}/v1/validate
```

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

#### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```
POST /{API_BASE_PATH}/v1/preview
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –±–µ–∑ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 3.1. –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ app.module.ts
‚îú‚îÄ‚îÄ main.ts
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ config.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ config.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ schemas/
‚îÇ       ‚îî‚îÄ‚îÄ providers.schema.ts
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ post/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post.controller.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post.service.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ post-request.dto.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ post-response.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base-provider.interface.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base-provider.abstract.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.provider.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.types.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.config.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ facebook/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ instagram/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ twitter/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ youtube/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ vk/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ... (–¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ converter/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ converter.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ converter.service.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ converters/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ html-to-markdown.converter.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ markdown-to-html.converter.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ html-to-text.converter.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ markdown-to-text.converter.ts
‚îÇ   ‚îú‚îÄ‚îÄ media/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ media.module.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ media.service.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ processors/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ image.processor.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ video.processor.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ audio.processor.ts
‚îÇ   ‚îî‚îÄ‚îÄ validation/
‚îÇ       ‚îú‚îÄ‚îÄ validation.module.ts
‚îÇ       ‚îî‚îÄ‚îÄ validation.service.ts
‚îî‚îÄ‚îÄ common/
    ‚îú‚îÄ‚îÄ filters/
    ‚îú‚îÄ‚îÄ interceptors/
    ‚îú‚îÄ‚îÄ decorators/
    ‚îî‚îÄ‚îÄ utils/
```

### 3.2. –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Providers)

–ö–∞–∂–¥—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```typescript
interface IProvider {
  /**
   * –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
   */
  readonly name: string;
  
  /**
   * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   */
  readonly supportedTypes: PostType[];
  
  /**
   * –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   */
  publish(request: PostRequest, config: ProviderConfig): Promise<PostResponse>;
  
  /**
   * –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
   */
  getPostStatus(postId: string, config: ProviderConfig): Promise<PostStatus>;
  
  /**
   * –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
   */
  validate(request: PostRequest): Promise<ValidationResult>;
  
  /**
   * –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
   */
  preview(request: PostRequest): Promise<PreviewResult>;
}
```

### 3.3. Workflow –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

```mermaid
graph TD
    A[–í—Ö–æ–¥—è—â–∏–π –∑–∞–ø—Ä–æ—Å] --> B[–í–∞–ª–∏–¥–∞—Ü–∏—è DTO]
    B --> C{–í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞?}
    C -->|–ù–µ—Ç| D[–í–æ–∑–≤—Ä–∞—Ç –æ—à–∏–±–∫–∏ 400]
    C -->|–î–∞| E[–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–∞]
    E --> F{–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞?}
    F -->|–ù–µ—Ç| G[–ü—Ä–æ–≤–µ—Ä–∫–∞ auth –≤ –∑–∞–ø—Ä–æ—Å–µ]
    F -->|–î–∞| H[–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞]
    G --> H
    H --> I{–ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è?}
    I -->|–ù–µ—Ç| J[–í–æ–∑–≤—Ä–∞—Ç –æ—à–∏–±–∫–∏ 400]
    I -->|–î–∞| K[–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è body]
    K --> L[–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –º–µ–¥–∏–∞]
    L --> M[–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞]
    M --> N[–í—ã–∑–æ–≤ SDK –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞]
    N --> O{–ü—É–±–ª–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞?}
    O -->|–î–∞| P[–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞]
    O -->|–ù–µ—Ç| Q[–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏]
    Q --> R[–í–æ–∑–≤—Ä–∞—Ç –æ—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏]
    P --> S[–û—Ç–ø—Ä–∞–≤–∫–∞ webhook]
    S --> T[–í–æ–∑–≤—Ä–∞—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞]
```

---

## 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 4.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞

–ö–æ–Ω—Ñ–∏–≥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ YAML —Ñ–æ—Ä–º–∞—Ç–µ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤.

**–ü—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É:** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `CONFIG_PATH`

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`config.yaml`):**

```yaml
# –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
common:
  # –¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º (–º—Å)
  connectionTimeout: 30000
  
  # –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ (–º—Å)
  requestTimeout: 60000
  
  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –º–µ–¥–∏–∞-—Ñ–∞–π–ª–∞ (–±–∞–π—Ç—ã)
  maxMediaSize: 52428800  # 50 MB
  
  # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è body (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  convertBody: true
  
  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ
  retryAttempts: 3
  
  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (–º—Å)
  retryDelay: 1000
  
  # –•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø—É–±–ª–∏–∫–∞—Ü–∏–π
  keepHistory: true
  
  # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
  tempDir: /tmp/social-posting

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
conversion:
  # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è HTML ‚Üí Markdown
  htmlToMarkdown: turndown
  
  # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Markdown ‚Üí HTML
  markdownToHtml: marked
  
  # –û–ø—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
  options:
    preserveLinks: true
    stripHtml: false

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–¥–∏–∞-–æ–±—Ä–∞–±–æ—Ç–∫–∏
media:
  # –°–∫–∞—á–∏–≤–∞—Ç—å –ª–∏ –º–µ–¥–∏–∞ –ø–æ URL
  downloadEnabled: true
  
  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
  maxConcurrentDownloads: 5
  
  # –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  imageCompression:
    enabled: true
    quality: 85
    maxWidth: 2048
    maxHeight: 2048
  
  # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
  videoConversion:
    enabled: false

# –ö–∞–Ω–∞–ª—ã (–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
channels:
  # Telegram –∫–∞–Ω–∞–ª –∫–æ–º–ø–∞–Ω–∏–∏
  company_telegram:
    provider: telegram
    enabled: true
    auth:
      botToken: ${TELEGRAM_BOT_TOKEN}
      chatId: ${TELEGRAM_CHAT_ID}
    options:
      parseMode: HTML
      disableNotification: false
      convertBody: true
      bodyFormat: html
    limits:
      maxTextLength: 4096
      maxCaptionLength: 1024
  
  # –õ–∏—á–Ω—ã–π Twitter/X –∞–∫–∫–∞—É–Ω—Ç
  personal_twitter:
    provider: x
    enabled: true
    auth:
      apiKey: ${X_API_KEY}
      apiSecret: ${X_API_SECRET}
      accessToken: ${X_ACCESS_TOKEN}
      accessTokenSecret: ${X_ACCESS_TOKEN_SECRET}
    options:
      convertBody: true
      bodyFormat: text
    limits:
      maxTextLength: 280
  
  # YouTube –∫–∞–Ω–∞–ª
  company_youtube:
    provider: youtube
    enabled: true
    auth:
      type: oauth2
      clientId: ${YOUTUBE_CLIENT_ID}
      clientSecret: ${YOUTUBE_CLIENT_SECRET}
      refreshToken: ${YOUTUBE_REFRESH_TOKEN}
    options:
      defaultPrivacy: public
      category: 22  # People & Blogs
      convertBody: false
    limits:
      maxTitleLength: 100
      maxDescriptionLength: 5000
  
  # VK –≥—Ä—É–ø–ø–∞
  company_vk:
    provider: vk
    enabled: true
    auth:
      accessToken: ${VK_ACCESS_TOKEN}
      groupId: ${VK_GROUP_ID}
    options:
      fromGroup: true
      convertBody: true
      bodyFormat: text

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
providers:
  telegram:
    sdkVersion: latest
    maxRetries: 3
  
  x:
    sdkVersion: latest
    maxRetries: 2
  
  instagram:
    sdkVersion: latest
    maxRetries: 2
  
  youtube:
    sdkVersion: latest
    maxRetries: 3
  
  vk:
    sdkVersion: latest
    maxRetries: 3

# Webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
webhooks:
  enabled: true
  timeout: 5000
  retryAttempts: 3
```

### 4.2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ
NODE_ENV=production
LISTEN_HOST=0.0.0.0
LISTEN_PORT=8080
API_BASE_PATH=api
LOG_LEVEL=info
TZ=UTC

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
CONFIG_PATH=/app/config/config.yaml

# Telegram
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_CHAT_ID=@your_channel

# Twitter/X
X_API_KEY=your_api_key
X_API_SECRET=your_api_secret
X_ACCESS_TOKEN=your_access_token
X_ACCESS_TOKEN_SECRET=your_access_token_secret

# YouTube
YOUTUBE_CLIENT_ID=your_client_id
YOUTUBE_CLIENT_SECRET=your_client_secret
YOUTUBE_REFRESH_TOKEN=your_refresh_token

# VK
VK_ACCESS_TOKEN=your_access_token
VK_GROUP_ID=your_group_id

# Instagram
INSTAGRAM_USER_ID=your_user_id
INSTAGRAM_ACCESS_TOKEN=your_access_token

# Facebook
FACEBOOK_PAGE_ID=your_page_id
FACEBOOK_ACCESS_TOKEN=your_access_token
```

---

## 5. –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π

### 5.1. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–≠—Ç–∞–ø 1 (MVP):**
1. ‚úÖ **Telegram** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ—Å—Ç—ã, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ, –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–≠—Ç–∞–ø 2:**
2. **VK** ‚Äî –ø–æ—Å—Ç—ã, —Ñ–æ—Ç–æ, –≤–∏–¥–µ–æ
3. **Twitter/X** ‚Äî —Ç–≤–∏—Ç—ã, –º–µ–¥–∏–∞

**–≠—Ç–∞–ø 3:**
4. **YouTube** ‚Äî –≤–∏–¥–µ–æ
5. **Instagram** ‚Äî –ø–æ—Å—Ç—ã, stories, reels
6. **Facebook** ‚Äî –ø–æ—Å—Ç—ã, –≤–∏–¥–µ–æ

**–≠—Ç–∞–ø 4:**
7. **TikTok** ‚Äî –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–∏–¥–µ–æ
8. **Mastodon** ‚Äî –ø–æ—Å—Ç—ã
9. **LinkedIn** ‚Äî –ø–æ—Å—Ç—ã
10. **Medium** ‚Äî —Å—Ç–∞—Ç—å–∏

### 5.2. Telegram Provider

**SDK:** `node-telegram-bot-api` –∏–ª–∏ `grammy`

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã:**
- `post` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç
- `image` ‚Äî —Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é
- `video` ‚Äî –≤–∏–¥–µ–æ —Å –ø–æ–¥–ø–∏—Å—å—é
- `collection` ‚Äî –º–µ–¥–∏–∞-–≥—Ä—É–ø–ø–∞ (–¥–æ 10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- `attachment` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç

**–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`additional`):**

```typescript
interface TelegramAdditional {
  // –†–µ–∂–∏–º –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–µ–∫—Å—Ç–∞
  parseMode?: 'HTML' | 'Markdown' | 'MarkdownV2';
  
  // –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞
  inlineKeyboard?: InlineKeyboardButton[][];
  
  // –û—Ç–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  disableNotification?: boolean;
  
  // –û—Ç–∫–ª—é—á–∏—Ç—å preview —Å—Å—ã–ª–æ–∫
  disableWebPagePreview?: boolean;
  
  // ID —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Ç–≤–µ—Ç–∞
  replyToMessageId?: number;
  
  // –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ—Å—ã–ª–∫–∏
  protectContent?: boolean;
}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "sn": "telegram",
  "type": "post",
  "channel": "company_telegram",
  "body": "<b>–ü—Ä–∏–≤–µ—Ç!</b> –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç —Å <a href='https://example.com'>—Å—Å—ã–ª–∫–æ–π</a>",
  "bodyType": "html",
  "convertBody": false,
  "additional": {
    "parseMode": "HTML",
    "disableNotification": false,
    "inlineKeyboard": [
      [
        {
          "text": "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç",
          "url": "https://example.com"
        }
      ]
    ]
  }
}
```

---

## 6. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 6.1. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

- HTML ‚Üí Markdown
- HTML ‚Üí Plain Text
- Markdown ‚Üí HTML
- Markdown ‚Üí Plain Text

### 6.2. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏

- **HTML ‚Üí Markdown:** `turndown`
- **Markdown ‚Üí HTML:** `marked` –∏–ª–∏ `markdown-it`
- **HTML ‚Üí Text:** `html-to-text`
- **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML:** `sanitize-html`

### 6.3. –õ–æ–≥–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

1. –ï—Å–ª–∏ `convertBody = false`, –∫–æ–Ω—Ç–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
2. –ï—Å–ª–∏ `convertBody = true`:
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç—Ä–µ–±—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ `bodyType` –≤ —Ç—Ä–µ–±—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç
   - –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞)
   - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

---

## 7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞

### 7.1. Workflow

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞:**
   - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø–æ URL (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `media` –∏–ª–∏ `cover`, `video`)
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `mediaFiles`)

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞:**
   - –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é (–¥–ª—è –≤–∏–¥–µ–æ)

4. **–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É:**
   - –ß–µ—Ä–µ–∑ SDK –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
   - –ü—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ API

### 7.2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ | –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –≤–∏–¥–µ–æ | –§–æ—Ä–º–∞—Ç—ã —Ñ–æ—Ç–æ | –§–æ—Ä–º–∞—Ç—ã –≤–∏–¥–µ–æ |
|-----------|-------------------|--------------------|--------------|-
|-----------|
| Telegram  | 10 MB             | 50 MB              | JPG, PNG, WEBP | MP4, MOV |
| Instagram | 8 MB              | 100 MB             | JPG, PNG      | MP4, MOV |
| Twitter/X | 5 MB              | 512 MB             | JPG, PNG, GIF, WEBP | MP4, MOV |
| YouTube   | ‚Äî                 | 256 GB             | JPG, PNG (–æ–±–ª–æ–∂–∫–∞) | MP4, MOV, AVI |
| VK        | 25 MB             | 6 GB               | JPG, PNG, GIF | MP4, AVI, MOV |

---

## 8. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### 8.1. –¢–∏–ø—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ –æ—à–∏–±–∫–∏ | –û–ø–∏—Å–∞–Ω–∏–µ | HTTP Status |
|------------|----------|-------------|
| `VALIDATION_ERROR` | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö | 400 |
| `PROVIDER_NOT_FOUND` | –ü—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω | 400 |
| `CHANNEL_NOT_FOUND` | –ö–∞–Ω–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ | 404 |
| `AUTH_ERROR` | –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | 401 |
| `PLATFORM_ERROR` | –û—à–∏–±–∫–∞ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã | 502 |
| `MEDIA_DOWNLOAD_ERROR` | –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞ | 500 |
| `CONVERSION_ERROR` | –û—à–∏–±–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ | 500 |
| `TIMEOUT_ERROR` | –ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è | 504 |
| `RATE_LIMIT_ERROR` | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ | 429 |

### 8.2. Retry –ª–æ–≥–∏–∫–∞

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫:
  - –°–µ—Ç–µ–≤—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
  - 5xx –æ—à–∏–±–∫–∏ –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
  - Rate limit (—Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π)

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ

---

## 9. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 9.1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** Pino (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –±–æ–π–ª–µ—Ä–ø–ª–µ–π—Ç–µ)

**–õ–æ–≥–∏—Ä—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- –í—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞
- –í—ã–∑–æ–≤—ã SDK –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –û—à–∏–±–∫–∏
- –£—Å–ø–µ—à–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤:**
- `trace` ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
- `debug` ‚Äî –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `info` ‚Äî –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—É—Å–ø–µ—à–Ω—ã–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
- `warn` ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (retry, deprecated –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- `error` ‚Äî –æ—à–∏–±–∫–∏
- `fatal` ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

### 9.2. –ú–µ—Ç—Ä–∏–∫–∏

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus:

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ (–ø–æ —Ç–∏–ø–∞–º)
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
- –í—Ä–µ–º—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –†–∞–∑–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–µ–¥–∏–∞
- Rate limit —Å–æ–±—ã—Ç–∏—è

---

## 10. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### 10.1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `class-validator` –¥–ª—è DTO
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è HTML –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ URL –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤ (whitelist –¥–æ–º–µ–Ω–æ–≤)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞

### 10.2. –°–µ–∫—Ä–µ—Ç—ã

- –í—Å–µ —Ç–æ–∫–µ–Ω—ã –∏ –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ Docker secrets / Kubernetes secrets
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫–ª—é—á–µ–π

### 10.3. Rate Limiting

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@nestjs/throttler`

---

## 11. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 11.1. Unit-—Ç–µ—Å—Ç—ã

- –¢–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- –¢–µ—Å—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–≤
- –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–µ–¥–∏–∞

### 11.2. Integration-—Ç–µ—Å—Ç—ã

- E2E —Ç–µ—Å—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (—Å –º–æ–∫–∞–º–∏ SDK)
- –¢–µ—Å—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### 11.3. –ú–∞–Ω—É–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–π —Å–æ—Ü. —Å–µ—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ–¥–∏–∞-–∑–∞–≥—Ä—É–∑–∫–∏

---

## 12. Deployment

### 12.1. Docker

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Dockerfile –∏–∑ –±–æ–π–ª–µ—Ä–ø–ª–µ–π—Ç–∞
- –ö–æ–Ω—Ñ–∏–≥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ volume
- –°–µ–∫—Ä–µ—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ environment variables

### 12.2. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- Stateless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤)
- Shared –∫–æ–Ω—Ñ–∏–≥ (ConfigMap –≤ Kubernetes)
- Rate limiting –Ω–∞ —É—Ä–æ–≤–Ω–µ API Gateway

---

## 13. Roadmap

### Phase 1: MVP (Telegram) ‚Äî 2-3 –Ω–µ–¥–µ–ª–∏
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (NestJS + Fastify)
- ‚¨ú REST API –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- ‚¨ú Telegram Provider
- ‚¨ú –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚¨ú –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HTML/Markdown
- ‚¨ú –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞
- ‚¨ú Unit-—Ç–µ—Å—Ç—ã
- ‚¨ú –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### Phase 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ ‚Äî 3-4 –Ω–µ–¥–µ–ª–∏
- ‚¨ú VK Provider
- ‚¨ú Twitter/X Provider
- ‚¨ú –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞
- ‚¨ú Webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚¨ú Idempotency

### Phase 3: –í–∏–¥–µ–æ-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã ‚Äî 3-4 –Ω–µ–¥–µ–ª–∏
- ‚¨ú YouTube Provider
- ‚¨ú Instagram Provider (–ø–æ—Å—Ç—ã, stories, reels)
- ‚¨ú TikTok Provider
- ‚¨ú –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ

### Phase 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ ‚Äî 2-3 –Ω–µ–¥–µ–ª–∏
- ‚¨ú Facebook Provider
- ‚¨ú LinkedIn Provider
- ‚¨ú Mastodon Provider
- ‚¨ú Medium Provider
- ‚¨ú –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚¨ú Batch –ø—É–±–ª–∏–∫–∞—Ü–∏—è (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

---

## 14. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è

### 14.1. –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 14.1.1. Batch Publishing
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤ –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º:

```typescript
interface BatchPostRequest {
  channels: string[];  // ['company_telegram', 'personal_twitter']
  content: PostRequest;
  // –ü—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞, –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
  continueOnError?: boolean;
}
```

#### 14.1.2. Content Templates
–®–∞–±–ª–æ–Ω—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:

```yaml
templates:
  product_announcement:
    title: "üéâ –ù–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç: {{product_name}}"
    body: "{{description}}\n\nüîó –ü–æ–¥—Ä–æ–±–Ω–µ–µ: {{link}}"
    tags: ["–Ω–æ–≤–∏–Ω–∫–∞", "–ø—Ä–æ–¥—É–∫—Ç"]
```

#### 14.1.3. Media Cache
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤:
- –î–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤
- Redis –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, S3-compatible storage –¥–ª—è —Ñ–∞–π–ª–æ–≤

#### 14.1.4. URL Shortener Integration
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å URL shortener –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –¥–ª–∏–Ω—ã:
- Bit.ly
- TinyURL
- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å

#### 14.1.5. Analytics Integration
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ UTM-—Ç–µ–≥–æ–≤ –∫ —Å—Å—ã–ª–∫–∞–º –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:

```typescript
interface AnalyticsOptions {
  utmSource?: string;
  utmMedium?: string;
  utmCampaign?: string;
  utmContent?: string;
}
```

#### 14.1.6. Content Moderation
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –º–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ ML API)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö –ø—Ä–∞–≤ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

#### 14.1.7. Auto-Hashtag Generation
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ö—ç—à—Ç–µ–≥–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤
- ML-–º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ç–µ–≥–æ–≤

#### 14.1.8. Cross-Posting Optimization
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:
- –û–±—Ä–µ–∑–∫–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ–¥ –ª–∏–º–∏—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –í—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –º–µ–¥–∏–∞

#### 14.1.9. Draft Management
–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤:

```typescript
POST /api/v1/drafts
GET /api/v1/drafts
GET /api/v1/drafts/:id
DELETE /api/v1/drafts/:id
POST /api/v1/drafts/:id/publish
```

#### 14.1.10. Publishing History
–ò—Å—Ç–æ—Ä–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å –ø–æ–∏—Å–∫–æ–º –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π:

```typescript
GET /api/v1/history?platform=telegram&from=2024-01-01&to=2024-12-31
```

#### 14.1.11. AI Content Enhancement
–£–ª—É—á—à–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é AI:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- –ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏
- SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

#### 14.1.12. Content Scheduling (—Å –æ–≥–æ–≤–æ—Ä–∫–∞–º–∏)
–•–æ—Ç—è –º—ã –Ω–µ –∑–∞–Ω–∏–º–∞–µ–º—Å—è scheduling, –º–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å:
- –û—Ç–ª–æ–∂–µ–Ω–Ω—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–µ API –ø–ª–∞—Ç—Ñ–æ—Ä–º (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
- –í–æ–∑–≤—Ä–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö scheduler'–æ–≤

#### 14.1.13. Multi-Language Support
–ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–∞—Ö:

```typescript
interface MultiLanguagePost {
  languages: {
    [lang: string]: {
      body: string;
      title?: string;
      description?: string;
    };
  };
  defaultLanguage: string;
}
```

#### 14.1.14. A/B Testing
–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```typescript
interface ABTestPost {
  variants: PostRequest[];
  distribution: number[];  // [50, 50] –¥–ª—è —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
}
```

#### 14.1.15. Compliance & Archive
–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π –¥–ª—è compliance:
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF/HTML

### 14.2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 14.2.1. GraphQL API
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π GraphQL endpoint –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- Batch operations
- Subscriptions –¥–ª—è real-time —Å—Ç–∞—Ç—É—Å–∞

#### 14.2.2. gRPC Interface
–î–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- Streaming –¥–ª—è batch –æ–ø–µ—Ä–∞—Ü–∏–π

#### 14.2.3. Event-Driven Architecture
–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –≤ message broker (RabbitMQ, Kafka):
- `post.created`
- `post.published`
- `post.failed`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

#### 14.2.4. Circuit Breaker
–ó–∞—â–∏—Ç–∞ –æ—Ç cascade failures:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- Graceful degradation
- Health checks

#### 14.2.5. Plugin System
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞:
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π
- Plugin registry
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤

---

## 15. Open Questions

### 15.1. –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è

1. **–•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)?
   - –ò–ª–∏ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ?
   - –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö?

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –º–µ–¥–∏–∞-—Ñ–∞–π–ª–æ–≤:**
   - Streaming upload?
   - Background processing —á–µ—Ä–µ–∑ queue (Bull)?

3. **–ú—É–ª—å—Ç–∏–∞–∫–∫–∞—É–Ω—Ç–Ω–æ—Å—Ç—å:**
   - –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –¥–µ—Å—è—Ç–∫–æ–≤ –∫–∞–Ω–∞–ª–æ–≤?
   - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞?

4. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞:**
   - API Keys?
   - JWT?
   - OAuth2?

5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–≤–æ—Ç API –ø–ª–∞—Ç—Ñ–æ—Ä–º:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–≤–æ—Ç
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –ª–∏–º–∏—Ç–∞–º

6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ NSFW –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è?
   - –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º?

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π PRD –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –≥–∏–±–∫–æ—Å—Ç–∏, —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ PRD
2. –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞
3. –û—Ü–µ–Ω–∫–∞ —Å—Ä–æ–∫–æ–≤ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤
4. –ù–∞—á–∞–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ MVP (Telegram Provider)
